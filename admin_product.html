<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓</title>
  <link rel="icon" type="image/png" href="S__131055784-Photoroom.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="module" src="firebase.js"></script>
  <link href="style.css" rel="stylesheet" />
</head>

<body class="bg-gradient-to-br from-white to-gray-100 min-h-screen text-gray-800">
  <!-- ЁЯФЭ Navbar -->
  <div id="admin-header"></div>

  <!-- ЁЯМЯ Header -->
  <section class="text-center py-8 fade-in px-4">
    <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold bg-clip-text mb-2">
      ЁЯЧВя╕П р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓
    </h1>
  </section>

  <main class="max-w-7xl mx-auto p-4 grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓ -->
    <section class="md:col-span-2">
      <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
        <!-- <h2 class="text-xl font-bold">ЁЯЧВя╕П р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓</h2> -->
        <button id="filter-toggle"
          class="sm:hidden bg-pink-600 text-white px-4 py-2 rounded-lg flex items-center gap-2">
          <span>ЁЯФН</span> <span>р╕Хр╕▒р╕зр╕Бр╕гр╕нр╕З</span>
        </button>
      </div>

      <div id="filter-section"
        class="mb-6 bg-white rounded-xl shadow-sm border p-4 space-y-4 sm:space-y-0 hidden sm:grid sm:grid-cols-[1fr_auto_auto] sm:gap-4 sm:items-end">
        <!-- р╕Др╣Йр╕Щр╕лр╕▓ -->
        <div class="sm:col-span-1">
          <label class="block text-sm font-medium text-gray-700 mb-1">р╕Др╣Йр╕Щр╕лр╕▓</label>
          <div class="relative">
            <input id="search-input" type="text" placeholder="р╕Др╣Йр╕Щр╕лр╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓..."
              class="w-full border-2 border-gray-200 px-4 py-3 rounded-lg text-base focus:border-pink-500 focus:outline-none pl-10 transition-colors" />
            <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg">
              ЁЯФН
            </div>
          </div>
        </div>

        <!-- р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И (р╣Бр╕Др╕Ър╕ер╕З) -->
        <div class="w-[150px]">
          <label class="block text-sm font-medium text-gray-700 mb-1">р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И</label>
          <select id="filter-category"
            class="w-full border-2 border-gray-200 px-3 py-3 rounded-lg text-base focus:border-pink-500 focus:outline-none">
            <option value="all">ЁЯУВ р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф</option>
            <option value="bakery">ЁЯН░ Bakery</option>
            <option value="smoothie">ЁЯед Smoothie</option>
          </select>
        </div>

        <!-- р╣Ар╕гр╕╡р╕вр╕Зр╕Хр╕▓р╕б (р╣Бр╕Др╕Ър╕ер╕З) -->
        <div class="w-[170px]">
          <label class="block text-sm font-medium text-gray-700 mb-1">р╣Ар╕гр╕╡р╕вр╕Зр╕Хр╕▓р╕б</label>
          <select id="sort-select"
            class="w-full border-2 border-gray-200 px-3 py-3 rounded-lg text-base focus:border-pink-500 focus:outline-none">
            <option value="default">ЁЯУЛ р╣Ар╕гр╕╡р╕вр╕Зр╕Хр╕▓р╕б...</option>
            <option value="price-asc">тмЖя╕П р╕гр╕▓р╕Др╕▓р╕Хр╣Ир╕│р╕кр╕╕р╕Ф</option>
            <option value="price-desc">тмЗя╕П р╕гр╕▓р╕Др╕▓р╕кр╕╣р╕Зр╕кр╕╕р╕Ф</option>
            <option value="latest">ЁЯХТ р╣Ар╕Юр╕┤р╣Ир╕бр╕ер╣Ир╕▓р╕кр╕╕р╕Ф</option>
            <option value="stock-desc">ЁЯУж р╕Ир╕│р╕Щр╕зр╕Щр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н</option>
          </select>
        </div>

        <!-- Clear Filters Button -->
        <div class="sm:col-span-3 flex justify-end pt-4 border-t border-gray-100">
          <button id="clear-filters"
            class="px-5 py-2 bg-gray-100 text-gray-600 hover:text-pink-600 hover:bg-pink-100 transition-colors text-sm rounded-lg whitespace-nowrap">
            ЁЯЧСя╕П р╕ер╣Йр╕▓р╕Зр╕Хр╕▒р╕зр╕Бр╕гр╕нр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
          </button>
        </div>
      </div>

      <ul id="product-list" class="space-y-4"></ul>

      <div class="flex justify-between items-center mt-6 flex-col sm:flex-row gap-4">
        <p class="text-sm text-gray-600">ЁЯЫТ р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф: <span id="product-count"
            class="font-semibold text-pink-600">0</span> р╕гр╕▓р╕вр╕Бр╕▓р╕г</p>
        <div id="pagination" class="flex gap-2 flex-wrap justify-center sm:justify-end"></div>
      </div>
    </section>

    <!-- р╕Яр╕нр╕гр╣Мр╕бр╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓ -->
    <section
      class="bg-white/90 backdrop-blur-md p-6 sm:p-8 rounded-xl shadow-xl w-full max-w-2xl mx-auto self-start border border-gray-200">
      <h2 class="text-2xl font-bold text-pink-600 text-center mb-6">ЁЯУж р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕лр╕бр╣И</h2>
      <form id="product-form" class="space-y-6">
        <input type="hidden" id="edit-id" />

        <!-- р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓ -->
        <div class="relative">
          <label for="imagesList" class="block text-sm font-semibold text-gray-700 mb-1">ЁЯП╖я╕П р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓</label>
          <input type="text" id="name"
            class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 text-gray-800 placeholder-transparent focus:border-pink-500 focus:ring-4 focus:ring-pink-500/10 transition"
            placeholder="р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓" required />
        </div>

        <!-- Row: р╕гр╕▓р╕Др╕▓ & р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label for="price" class="block text-sm font-semibold text-gray-700 mb-1">ЁЯТ░ р╕гр╕▓р╕Др╕▓ (р╕Ър╕▓р╕Ч)</label>
            <input type="number" id="price"
              class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-pink-500 focus:outline-none transition" />
          </div>
          <div>
            <label for="category" class="block text-sm font-semibold text-gray-700 mb-1">ЁЯПк р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И</label>
            <select id="category"
              class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-pink-500 focus:outline-none transition">
              <option value="bakery">ЁЯН░ Bakery</option>
              <option value="smoothie">ЁЯед Smoothie</option>
            </select>
          </div>
        </div>

        <!-- Row: р╕Ир╕│р╕Щр╕зр╕Щр╕кр╕┤р╕Щр╕Др╣Йр╕▓ & р╕кр╣Ир╕зр╕Щр╕ер╕Ф -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label for="quantity" class="block text-sm font-semibold text-gray-700 mb-1">ЁЯУК р╕Ир╕│р╕Щр╕зр╕Щр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н</label>
            <input type="number" id="quantity"
              class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-pink-500 focus:outline-none transition" />
          </div>
          <div>
            <label for="discount" class="block text-sm font-semibold text-gray-700 mb-1">ЁЯОп р╕кр╣Ир╕зр╕Щр╕ер╕Ф (%)</label>
            <input type="number" id="discount" min="0" max="100" value="0"
              class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-pink-500 focus:outline-none transition" />
          </div>
        </div>

        <!-- р╣Ар╕бр╕Щр╕╣р╣Бр╕Щр╕░р╕Щр╕│ -->
        <div class="flex items-center space-x-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
          <input type="checkbox" id="isDailySpecial" class="h-5 w-5 text-pink-600 rounded focus:ring-pink-500" />
          <label for="isDailySpecial" class="text-sm font-medium text-gray-700">ЁЯМЯ р╣Ар╕бр╕Щр╕╣р╕Ыр╕гр╕░р╕Ир╕│р╕зр╕▒р╕Щ</label>
        </div>

        <!-- р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б -->
        <div>
          <label for="imagesList" class="block text-sm font-semibold text-gray-700 mb-1">ЁЯЦ╝я╕П р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б (URL
            р╕Др╕▒р╣Ир╕Щр╕Фр╣Йр╕зр╕в ,)</label>
          <input type="text" id="imagesList"
            class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-pink-500 focus:outline-none transition" />
        </div>

        <!-- р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕лр╕ер╕▒р╕Б -->
        <div>
          <label for="imageUrlInput" class="block text-sm font-semibold text-gray-700 mb-1">ЁЯМР URL р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕лр╕ер╕▒р╕Б</label>
          <input type="url" id="imageUrlInput"
            class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-pink-500 focus:outline-none transition" />
        </div>

        <!-- р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ы -->
        <div>
          <label for="imageFileInput" class="block text-sm font-semibold text-gray-700 mb-1">ЁЯУ╖
            р╕лр╕гр╕╖р╕нр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕гр╕╣р╕Ыр╕ар╕▓р╕Ю</label>
          <input type="file" id="imageFileInput" accept="image/*"
            class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-pink-500 focus:outline-none transition" />
        </div>

        <input type="hidden" id="imageUrl" />
        <img id="imagePreview" class="w-full max-h-60 rounded-lg shadow border object-contain hidden" />

        <!-- Submit -->
        <button type="submit"
          class="w-full bg-gradient-to-r from-pink-600 to-pink-700 text-white py-3 rounded-lg hover:from-pink-700 hover:to-pink-800 transition font-semibold shadow-md hover:shadow-lg">
          тЬЕ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕┤р╕Щр╕Др╣Йр╕▓
        </button>

        <p id="status" class="text-center mt-4 text-sm text-gray-600"></p>
      </form>
    </section>

  </main>

  <!-- ЁЯМР Language -->
  <div class="fixed bottom-5 right-5 z-50">
    <button id="lang-toggle"
      class="w-12 h-12 rounded-full bg-gradient-to-r from-pink-500 to-blue-500 text-white text-2xl shadow-lg hover:scale-110 transition">
      ЁЯЗ║ЁЯЗ╕
    </button>
  </div>

  <script src="lang-switcher.js"></script>
  <script src="admin-auth.js" type="module"></script>
  <script type="module" src="admin-product.js"></script>
  <script type="module">
    import { loadAdminHeader } from './default_load.js';
    loadAdminHeader();
  </script>
</body>

</html>